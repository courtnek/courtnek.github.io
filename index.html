<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retro Encabulator Control Panel</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-white min-h-screen flex flex-col">
    <!-- Header -->
    <header class="border-b border-gray-800 py-4">
        <div class="container mx-auto px-4">
            <h1 class="text-2xl font-bold">Retro Encabulator Control Panel</h1>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow py-8">
        <div class="container mx-auto px-4">
            <div class="text-center mb-8">
                <h2 id="system-status" class="text-4xl font-light mb-4">System Status: <span id="status-text" class="text-red-400">OFFLINE</span></h2>
                <p class="text-gray-400">Adjust parameters to optimize encabulator performance</p>
                <div class="mt-4">
                    <button id="power-button" class="bg-green-600 hover:bg-green-700 text-white px-8 py-3 text-lg font-semibold">
                        START ENCABULATOR
                    </button>
                </div>
                <div class="mt-2">
                    <span class="text-sm text-gray-400">Efficiency: <span id="efficiency-display" class="text-yellow-400">0%</span></span>
                </div>
            </div>

            <!-- Display Outputs -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 max-w-4xl mx-auto mb-8">
                
                <!-- Waveform Display -->
                <div class="border border-gray-700 p-6 bg-gray-900">
                    <h3 class="text-lg font-semibold mb-4 text-green-400">Malleable Logarithmic Casing</h3>
                    <div class="bg-black border border-gray-600 p-4 h-32 relative overflow-hidden">
                        <canvas id="waveform" width="400" height="96" class="w-full h-full"></canvas>
                    </div>
                    <div class="mt-2 text-xs text-gray-400 text-center">
                        Logarithmic Factor: <span id="amplitude-display">0.73</span> | Casing Temp: <span id="freq-display">2847</span> °K
                    </div>
                </div>

                <!-- Status Indicator -->
                <div class="border border-gray-700 p-6 bg-gray-900">
                    <h3 class="text-lg font-semibold mb-4 text-red-400">Lotus O-Deltoid Main Winding</h3>
                    <div class="flex items-center justify-center h-32">
                        <div id="status-square" class="w-24 h-24 border-2 border-gray-600 bg-red-500"></div>
                    </div>
                    <div class="mt-2 text-xs text-gray-400 text-center">
                        Winding Status: <span id="flux-state">NOMINAL</span>
                    </div>
                </div>

            </div>
            
            <!-- Control Panel Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto">
                
                <!-- Dodge Gears & Bearings -->
                <div class="border border-gray-700 p-6 bg-gray-900">
                    <h3 class="text-lg font-semibold mb-4 text-green-400">Dodge Spurving Bearings</h3>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Bearing Lubrication</label>
                            <input id="flux-slider" type="range" min="0" max="100" value="42" class="w-full">
                            <span id="flux-value" class="text-xs text-gray-400">42%</span>
                        </div>
                        <button id="engage-bearings" class="w-full bg-green-600 hover:bg-green-700 text-white py-2 px-4 text-sm" disabled>
                            ENGAGE BEARINGS
                        </button>
                    </div>
                </div>

                <!-- Reliance Electric Motors -->
                <div class="border border-gray-700 p-6 bg-gray-900">
                    <h3 class="text-lg font-semibold mb-4 text-blue-400">Reliance Electric Motors</h3>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Motor RPM</label>
                            <input id="freq-input" type="number" value="2847" class="w-full bg-gray-800 border border-gray-600 text-white p-2 text-sm">
                        </div>
                        <div class="flex space-x-2">
                            <button id="motor-sync" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-2 text-xs" disabled>SYNC</button>
                            <button id="motor-reset" class="flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-2 text-xs" disabled>RESET</button>
                        </div>
                    </div>
                </div>

                <!-- Hydrocoptic Marzel Vanes -->
                <div class="border border-gray-700 p-6 bg-gray-900">
                    <h3 class="text-lg font-semibold mb-4 text-purple-400">Hydrocoptic Marzel Vanes</h3>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Vane Angle (°)</label>
                            <div class="flex items-center space-x-2">
                                <button id="pressure-down" class="bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 text-sm">-</button>
                                <span id="pressure-value" class="flex-1 text-center text-lg font-mono">847</span>
                                <button id="pressure-up" class="bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 text-sm">+</button>
                            </div>
                        </div>
                        <div class="text-center">
                            <div class="inline-block w-4 h-4 bg-purple-500 rounded-full animate-pulse"></div>
                            <span class="ml-2 text-xs text-gray-400">ACTIVE</span>
                        </div>
                    </div>
                </div>

                <!-- Allen-Bradley Controls -->
                <div class="border border-gray-700 p-6 bg-gray-900">
                    <h3 class="text-lg font-semibold mb-4 text-yellow-400">Allen-Bradley Controls</h3>
                    <div class="space-y-3">
                        <div class="grid grid-cols-3 gap-2">
                            <button id="axis-x" class="bg-gray-700 hover:bg-yellow-600 text-white py-2 text-xs">X</button>
                            <button id="axis-y" class="bg-yellow-600 text-black py-2 text-xs font-semibold">Y</button>
                            <button id="axis-z" class="bg-gray-700 hover:bg-yellow-600 text-white py-2 text-xs">Z</button>
                        </div>
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Control Loop Status</label>
                            <div class="w-full bg-gray-700 h-2">
                                <div class="bg-yellow-400 h-2" style="width: 73%"></div>
                            </div>
                            <span class="text-xs text-gray-400">73% Stable</span>
                        </div>
                    </div>
                </div>

                <!-- Ambient Lunar Wane Shaft -->
                <div class="border border-gray-700 p-6 bg-gray-900">
                    <h3 class="text-lg font-semibold mb-4 text-cyan-400">Ambient Lunar Wane Shaft</h3>
                    <div class="space-y-3">
                        <div class="text-center">
                            <div class="text-2xl font-mono text-cyan-400">1,247,893</div>
                            <div class="text-xs text-gray-400">lunar cycles/min</div>
                        </div>
                        <div class="flex justify-center space-x-1">
                            <div class="w-2 h-8 bg-cyan-400"></div>
                            <div class="w-2 h-6 bg-cyan-400"></div>
                            <div class="w-2 h-10 bg-cyan-400"></div>
                            <div class="w-2 h-4 bg-cyan-400"></div>
                            <div class="w-2 h-7 bg-cyan-400"></div>
                        </div>
                    </div>
                </div>

                <!-- Rockwell Software -->
                <div class="border border-gray-700 p-6 bg-gray-900">
                    <h3 class="text-lg font-semibold mb-4 text-red-400">Rockwell Software</h3>
                    <div class="space-y-3">
                        <button id="system-halt" class="w-full bg-red-600 hover:bg-red-700 text-white py-3 px-4 font-semibold" disabled>
                            SYSTEM HALT
                        </button>
                        <div class="grid grid-cols-2 gap-2">
                            <button id="system-reset" class="bg-orange-600 hover:bg-orange-700 text-white py-2 text-xs" disabled>RESET</button>
                            <button id="system-backup" class="bg-gray-600 hover:bg-gray-700 text-white py-2 text-xs" disabled>BACKUP</button>
                        </div>
                        <div class="text-center">
                            <div class="inline-block w-3 h-3 bg-green-500 rounded-full"></div>
                            <span class="ml-2 text-xs text-gray-400">ALL SYSTEMS NOMINAL</span>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="border-t border-gray-800 py-6">
        <div class="container mx-auto px-4 text-center text-gray-400 text-sm">
            <p>&copy; 2024 Kailean. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Global state
        let fluxValue = 42;
        let frequency = 2847;
        let pressure = 847;
        let currentAxis = 'Y';
        let wavePhase = 0;
        let statusColors = ['bg-red-500', 'bg-green-500', 'bg-blue-500', 'bg-yellow-500', 'bg-purple-500', 'bg-cyan-500'];
        let currentColorIndex = 0;
        let systemRunning = false;
        let efficiency = 0;
        let bearingsEngaged = false;
        let motorSynced = false;

        // Get canvas and context
        const canvas = document.getElementById('waveform');
        const ctx = canvas.getContext('2d');

        // Power button control
        const powerButton = document.getElementById('power-button');
        const statusText = document.getElementById('status-text');
        const efficiencyDisplay = document.getElementById('efficiency-display');

        powerButton.addEventListener('click', function() {
            systemRunning = !systemRunning;
            
            if (systemRunning) {
                this.textContent = 'STOP ENCABULATOR';
                this.className = 'bg-red-600 hover:bg-red-700 text-white px-8 py-3 text-lg font-semibold';
                statusText.textContent = 'ONLINE';
                statusText.className = 'text-green-400';
                enableControls();
            } else {
                this.textContent = 'START ENCABULATOR';
                this.className = 'bg-green-600 hover:bg-green-700 text-white px-8 py-3 text-lg font-semibold';
                statusText.textContent = 'OFFLINE';
                statusText.className = 'text-red-400';
                efficiency = 0;
                bearingsEngaged = false;
                motorSynced = false;
                disableControls();
            }
            updateEfficiency();
        });

        function enableControls() {
            document.getElementById('engage-bearings').disabled = false;
            document.getElementById('motor-sync').disabled = false;
            document.getElementById('motor-reset').disabled = false;
            document.getElementById('system-halt').disabled = false;
            document.getElementById('system-reset').disabled = false;
            document.getElementById('system-backup').disabled = false;
        }

        function disableControls() {
            document.getElementById('engage-bearings').disabled = true;
            document.getElementById('motor-sync').disabled = true;
            document.getElementById('motor-reset').disabled = true;
            document.getElementById('system-halt').disabled = true;
            document.getElementById('system-reset').disabled = true;
            document.getElementById('system-backup').disabled = true;
        }

        function updateEfficiency() {
            if (!systemRunning) {
                efficiency = 0;
            } else {
                // Calculate efficiency based on various factors
                let baseEfficiency = 20;
                if (bearingsEngaged) baseEfficiency += 25;
                if (motorSynced) baseEfficiency += 20;
                if (fluxValue > 60 && fluxValue < 80) baseEfficiency += 15;
                if (pressure > 800 && pressure < 900) baseEfficiency += 10;
                if (frequency > 2500 && frequency < 3000) baseEfficiency += 10;
                
                efficiency = Math.min(100, baseEfficiency);
            }
            
            efficiencyDisplay.textContent = efficiency + '%';
            
            // Change status based on efficiency
            if (efficiency < 30) {
                statusText.textContent = 'CRITICAL';
                statusText.className = 'text-red-400';
            } else if (efficiency < 60) {
                statusText.textContent = 'SUBOPTIMAL';
                statusText.className = 'text-yellow-400';
            } else if (efficiency < 85) {
                statusText.textContent = 'OPTIMAL';
                statusText.className = 'text-green-400';
            } else {
                statusText.textContent = 'MAXIMUM EFFICIENCY';
                statusText.className = 'text-cyan-400';
            }
        }

        // Flux Capacitor Controls
        const fluxSlider = document.getElementById('flux-slider');
        const fluxValueSpan = document.getElementById('flux-value');
        
        fluxSlider.addEventListener('input', function() {
            fluxValue = parseInt(this.value);
            fluxValueSpan.textContent = fluxValue + '%';
            updateStatusSquare();
            updateEfficiency();
            
            // Flux affects motor frequency
            if (systemRunning && fluxValue > 70) {
                frequency = Math.min(3500, frequency + Math.floor(Math.random() * 10));
                document.getElementById('freq-input').value = frequency;
                document.getElementById('freq-display').textContent = frequency;
            }
        });

        // Quantum Oscillator Controls
        const freqInput = document.getElementById('freq-input');
        
        freqInput.addEventListener('input', function() {
            frequency = parseInt(this.value) || 0;
            document.getElementById('freq-display').textContent = frequency;
            updateWaveform();
            updateEfficiency();
            
            // High frequency affects vane angle
            if (systemRunning && frequency > 3000) {
                pressure = Math.min(999, pressure + Math.floor(Math.random() * 20));
                document.getElementById('pressure-value').textContent = pressure;
            }
        });

        // Plasma Conduit Controls
        const pressureValue = document.getElementById('pressure-value');
        const pressureUp = document.getElementById('pressure-up');
        const pressureDown = document.getElementById('pressure-down');

        pressureUp.addEventListener('click', function() {
            if (!systemRunning) return;
            pressure += Math.floor(Math.random() * 50) + 1;
            pressureValue.textContent = pressure;
            updateStatusSquare();
            updateEfficiency();
        });

        pressureDown.addEventListener('click', function() {
            if (!systemRunning) return;
            pressure = Math.max(0, pressure - Math.floor(Math.random() * 50) - 1);
            pressureValue.textContent = pressure;
            updateStatusSquare();
            updateEfficiency();
        });

        // Graviton Stabilizer Controls
        const axisButtons = document.querySelectorAll('[id^="axis-"]');
        
        axisButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Reset all buttons
                axisButtons.forEach(btn => {
                    btn.className = 'bg-gray-700 hover:bg-yellow-600 text-white py-2 text-xs';
                });
                
                // Highlight clicked button
                this.className = 'bg-yellow-600 text-black py-2 text-xs font-semibold';
                currentAxis = this.textContent;
                
                // Non-intuitive effect: changes waveform amplitude
                updateWaveform();
                updateEfficiency();
            });
        });

        // Bearing engagement
        document.getElementById('engage-bearings').addEventListener('click', function() {
            bearingsEngaged = !bearingsEngaged;
            this.textContent = bearingsEngaged ? 'DISENGAGE BEARINGS' : 'ENGAGE BEARINGS';
            this.className = bearingsEngaged ? 
                'w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 text-sm' :
                'w-full bg-green-600 hover:bg-green-700 text-white py-2 px-4 text-sm';
            updateEfficiency();
        });

        // Motor controls
        document.getElementById('motor-sync').addEventListener('click', function() {
            motorSynced = true;
            this.className = 'flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-2 text-xs';
            updateEfficiency();
            
            // Sync affects flux
            fluxValue = Math.min(100, fluxValue + 10);
            document.getElementById('flux-slider').value = fluxValue;
            document.getElementById('flux-value').textContent = fluxValue + '%';
        });

        document.getElementById('motor-reset').addEventListener('click', function() {
            motorSynced = false;
            document.getElementById('motor-sync').className = 'flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-2 text-xs';
            frequency = 2847;
            document.getElementById('freq-input').value = frequency;
            document.getElementById('freq-display').textContent = frequency;
            updateEfficiency();
        });

        // System controls
        document.getElementById('system-halt').addEventListener('click', function() {
            systemRunning = false;
            powerButton.click(); // Trigger power button
        });

        document.getElementById('system-reset').addEventListener('click', function() {
            // Reset all values
            fluxValue = 42;
            frequency = 2847;
            pressure = 847;
            bearingsEngaged = false;
            motorSynced = false;
            
            document.getElementById('flux-slider').value = fluxValue;
            document.getElementById('flux-value').textContent = fluxValue + '%';
            document.getElementById('freq-input').value = frequency;
            document.getElementById('pressure-value').textContent = pressure;
            document.getElementById('engage-bearings').textContent = 'ENGAGE BEARINGS';
            document.getElementById('engage-bearings').className = 'w-full bg-green-600 hover:bg-green-700 text-white py-2 px-4 text-sm';
            
            updateEfficiency();
        });

        // Update Status Square (affected by flux and pressure in weird ways)
        function updateStatusSquare() {
            const statusSquare = document.getElementById('status-square');
            const fluxState = document.getElementById('flux-state');
            
            // Non-intuitive logic: color based on flux + pressure modulo
            const colorIndex = (fluxValue + Math.floor(pressure / 100)) % statusColors.length;
            
            // Remove all color classes
            statusColors.forEach(color => statusSquare.classList.remove(color));
            
            // Add new color
            statusSquare.classList.add(statusColors[colorIndex]);
            
            // Update state text based on weird logic
            const states = ['NOMINAL', 'CRITICAL', 'OPTIMAL', 'UNSTABLE', 'RESONANT', 'CHAOTIC'];
            const stateIndex = Math.floor((fluxValue * pressure) / 10000) % states.length;
            fluxState.textContent = states[stateIndex];
        }

        // Update Waveform (affected by frequency and axis in non-intuitive ways)
        function updateWaveform() {
            const width = canvas.width;
            const height = canvas.height;
            
            // Clear canvas
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, width, height);
            
            // Draw waveform
            ctx.strokeStyle = '#10b981'; // green-500
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            const amplitude = document.getElementById('amplitude-display');
            
            // Non-intuitive: axis affects amplitude, frequency affects wave shape
            let waveAmplitude = 30;
            let waveFreq = 0.05;
            
            switch(currentAxis) {
                case 'X':
                    waveAmplitude = 15;
                    waveFreq = 0.1;
                    amplitude.textContent = '0.35';
                    break;
                case 'Y':
                    waveAmplitude = 30;
                    waveFreq = 0.05;
                    amplitude.textContent = '0.73';
                    break;
                case 'Z':
                    waveAmplitude = 45;
                    waveFreq = 0.02;
                    amplitude.textContent = '1.24';
                    break;
            }
            
            // Frequency affects phase shift speed (not wave frequency)
            const phaseSpeed = frequency / 100000;
            
            for (let x = 0; x < width; x++) {
                const y = height/2 + Math.sin((x * waveFreq) + wavePhase) * waveAmplitude;
                if (x === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            
            ctx.stroke();
            
            // Update phase for animation
            wavePhase += phaseSpeed;
        }

        // Animation loop
        function animate() {
            if (systemRunning) {
                updateWaveform();
            }
            requestAnimationFrame(animate);
        }

        // Status square flashing
        function flashStatusSquare() {
            const statusSquare = document.getElementById('status-square');
            
            // More flashing when system is running and efficiency is low
            let flashChance = systemRunning ? (efficiency < 50 ? 0.3 : 0.1) : 0.05;
            
            if (Math.random() < flashChance) {
                statusSquare.style.opacity = '0.3';
                setTimeout(() => {
                    statusSquare.style.opacity = '1';
                }, 100);
            }
        }

        // Start animations
        animate();
        setInterval(flashStatusSquare, 500);

        // Initialize displays
        updateStatusSquare();
        updateWaveform();
        updateEfficiency();
        disableControls();
    </script>
</body>
</html>
